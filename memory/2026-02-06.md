# 2026-02-06 - Major Infrastructure Day

## Summary
Set up new Hetzner server, attempted Oracle (failed - capacity), worked on laptop remote access (partial success). Mike frustrated with context/memory issues - needs clean slate.

---

## COMPLETED ✅

### Hetzner Server (DONE - USE THIS!)
- **Name:** factorylm-hetzner
- **Public IP:** 178.156.173.186
- **Tailscale:** 100.67.25.53
- **Specs:** 8GB RAM, 4 AMD vCPU, 160GB SSD
- **Cost:** ~€15/mo (~$16)
- **SSH:** `ssh -i ~/.ssh/hetzner_key root@178.156.173.186`
- **Status:** Docker + Tailscale installed, swap enabled, optimized
- **Hetzner API Token:** `9GNxLjbuIs8zKjpMUzlItrKEKPJmDGmnkRgtN4QoQ1ORcnr9hZpt9b6wAUxs0pNS`

### Self-Optimizer Agent
- `/opt/jarvis/self-optimizer.sh` - runs every 30 min via cron
- Cleans Docker, logs, caches automatically

### Compute Stack Documented
- `/root/jarvis-workspace/brain/infra/COMPUTE-STACK.md`
- Total: ~$45/mo cloud spend, 10-40x cheaper than typical startup

### jarvis-workspace Repo Made Public
- For easy script access from laptops

---

## FAILED / INCOMPLETE ❌

### Oracle Cloud Free Tier
- Account created: mike3629 / mike@cranesync.com
- ALL Availability Domains in Ashburn OUT OF CAPACITY
- Credentials saved in `~/.oci/` but useless without capacity
- **Recommendation:** Abandon Oracle, Hetzner is better anyway

### SSH to Windows Laptops
- Created architecture at `/root/jarvis-workspace/infrastructure/remote-access/`
- SSH key: `/root/.ssh/jarvis_laptop_key`
- **FAILED** - Windows admin users need keys in `C:\ProgramData\ssh\administrators_authorized_keys`
- Setup script doesn't handle admin users correctly
- **PLC laptop username is `hharp` not `mike`**

### Jarvis Node on PLC Laptop
- Node connected briefly at 13:46:12 UTC then dropped
- Claude CLI on laptop created files in `C:\JarvisNode\`
- Node registered as 'PLC-LAPTOP' but connection not stable
- **Server running at:** ws://100.68.120.99:8765

---

## SOLUTION FOUND (NOT YET IMPLEMENTED)

### computer_use_ootb - Best Remote Control Option
- **Repo:** https://github.com/showlab/computer_use_ootb
- Out-of-the-box GUI agent for Windows/macOS
- No Docker required
- Remote control via Gradio web URL
- Supports Claude, GPT-4o, or local models
- **Install on laptop:**
```powershell
git clone https://github.com/showlab/computer_use_ootb.git
cd computer_use_ootb
pip install -r requirements.txt
$env:ANTHROPIC_API_KEY="key"
python app.py
```
- Gives public URL like `https://xxxxx.gradio.live` that Jarvis can control

---

## CRITICAL REMINDERS

### YC Demo is VFD + CONVEYOR (NOT keyboard robot!)
- VFD and motor already ordered
- Building real conveyor controlled by Micro820 PLC
- Factory I/O digital twin mirrors physical
- **Deadline: Feb 9, 2026 (3 days)**
- **Key docs:**
  - `/root/jarvis-workspace/brain/strategy/DEMO-BUILD-GUIDE.md`
  - `/root/jarvis-workspace/brain/strategy/DEMO-CONVEYOR-BOM.md`

### Mike's Profile
- Works night shift at Universal Epic Universe (Stardust Racers)
- Schedule: Tue-Fri, 10 PM - 8:30 AM ET
- Days off: Sat, Sun, Mon
- PLC laptop username: `hharp`

### Server Inventory
| Server | IP | Tailscale | RAM | Cost |
|--------|-----|-----------|-----|------|
| DO VPS (current) | 72.60.175.144 | 100.68.120.99 | 4GB | $24/mo |
| Hetzner (NEW) | 178.156.173.186 | 100.67.25.53 | 8GB | $16/mo |
| PLC Laptop | - | 100.72.2.99 | 16GB | $0 |
| Travel Laptop | - | 100.83.251.23 | ? | $0 |
| Pi Edge | - | 100.97.210.121 | - | $0 |

### YC Gist (Updated)
https://gist.github.com/Mikecranesync/72624ffef312fa31b40eddfa4be6301a

---

## FILES CREATED TODAY
- `/root/jarvis-workspace/brain/infra/COMPUTE-STACK.md`
- `/root/jarvis-workspace/infrastructure/remote-access/ARCHITECTURE.md`
- `/root/jarvis-workspace/infrastructure/remote-access/setup-windows-laptop.ps1`
- `/opt/jarvis/self-optimizer.sh`
- `/opt/jarvis/remote-laptop.sh`
- `/opt/jarvis/oracle-capacity-hunter.sh` (disabled)
- `~/.ssh/hetzner_key` + `~/.ssh/jarvis_laptop_key`

---

## NEXT SESSION PRIORITIES
1. **Get laptop control working** - Use computer_use_ootb
2. **YC application** - 3 days left!
3. **Conveyor build** - Mike has VFD + motor coming

---

## UPDATE: PLC Laptop Remote Control WORKING ✅

**Time:** 14:18 UTC

### computer_use_ootb Setup Complete
- **Location:** C:\Users\hharp\Desktop\computer_use_ootb
- **Port:** 7888
- **Public URL:** https://66d9a6464d437228cb.gradio.live
- **Auto-start:** Configured in Windows Startup
- **API Key:** ANTHROPIC_API_KEY persisted

### VPS Config
- URLs stored: `/opt/jarvis/laptop-urls.env`
- Connection test: ✅ PASSED

### How to Use
1. Browse to: https://66d9a6464d437228cb.gradio.live
2. Enter task in natural language
3. Claude controls the laptop GUI

**NOTE:** Gradio.live URLs expire after ~72 hours. May need to refresh.

### Travel Laptop Also Set Up!
- **Tailscale:** 100.83.251.23:7888
- **Auto-start:** Configured
- **Note:** No public gradio.live URL - use Tailscale IP directly
- **PLC Laptop offline** - will set up when back online

---

## ROBOT ARMY DEPLOYED ✅ (15:30 UTC)

### Architecture
```
┌─────────────────────────────────────────────────────┐
│                   ROBOT ARMY                         │
├─────────────────────────────────────────────────────┤
│  DO VPS (100.68.120.99)      │  Hetzner (178.156)   │
│  ├── Celery Quick Worker     │  └── Celery Heavy    │
│  ├── Webhook Server :5555    │      (4 workers)     │
│  ├── Redis (broker)          │                      │
│  └── 9 Docker containers     │                      │
├─────────────────────────────────────────────────────┤
│  QUEUES: quick (DO) | heavy (Hetzner)               │
│  MONITORING: Cron 30min | Alerts via signals/       │
└─────────────────────────────────────────────────────┘
```

### Files Created
- /opt/factorylm-automation/celery_app.py
- /opt/factorylm-automation/tasks/__init__.py
- /opt/factorylm-automation/webhook_server.py
- /opt/factorylm-automation/periodic_tasks.py
- /opt/factorylm-automation/docker-compose.yml

### Auto-Monitoring
- Cron runs every 30 min
- Alerts go to signals/outbox/
- Issues trigger Telegram notification

---

## SESSION UPDATE (17:36 UTC)

### Motor Ordered ✅
- **Motor:** 1HP 56C 3-Phase 1725RPM (FAHKNS brand)
- **Arrives:** Sunday, Feb 8
- **Cost:** ~$213
- **Note:** Oversized for VFD (1HP motor on 1/4HP VFD) but will work for light-load demo

### CAD Module Complete ✅
- **Location:** `/root/jarvis-workspace/factorylm-cad/`
- **Capabilities:** DXF output, multi-view drawings, title blocks, BOM
- **GitHub:** Committed as permanent fixture
- **Tools:** ezdxf, CadQuery, matplotlib for PNG export

### Detailed BOM Created
- Budget version: ~$128 with proper hardware quantities
- Threaded rod: 2x 5/8"-11 x 36"
- Full hardware count in gist

### Research Brief
- Factory I/O + Micro820 integration guide
- Pre-built "Sorting by Height" project available
- Setup time: ~30 min
- Saved to: `brain/research/2026-02-06-1731-factory-io-micro820.md`

### Android Auto + Telegram
- Solution: AAAD (Android Auto Apps Downloader)
- GitHub: https://github.com/shmykelsa/AAAD
- No root required

### Robot Army Status
- DO VPS: Services running, 9 containers
- Hetzner: Celery heavy workers deployed
- All systems healthy

### YC Timeline
- Motor arrives: Sun Feb 8
- Demo deadline: Mon Feb 9
- 1 full day to wire, test, and record
